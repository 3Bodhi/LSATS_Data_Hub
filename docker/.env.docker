# Docker-specific environment configuration for LSATS Data Hub
# This file provides environment variable overrides when running in Docker containers
# It supplements but does not replace your main .env file

# ==============================================================================
# DATABASE CONFIGURATION (Docker Internal Networking)
# ==============================================================================

# When running in Docker, containers communicate using internal network names
# Notice how the host is 'lsats-postgres' (the service name) instead of 'localhost'
DATABASE_URL=postgresql://lsats_user:${DB_PASSWORD:-lsats_dev_password}@lsats-postgres:5432/lsats_db

# Individual database connection components for flexibility
DB_HOST=lsats-postgres
DB_PORT=5432
DB_NAME=lsats_db
DB_USER=lsats_user
# DB_PASSWORD will come from your main .env file or default to lsats_dev_password

# ==============================================================================
# CONTAINER-SPECIFIC SETTINGS
# ==============================================================================

# Python runtime settings optimized for containers
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# Logging configuration for containerized environment
LOG_LEVEL=INFO
LOG_FILE=/app/logs/lsats_database.log
ENABLE_SQL_LOGGING=false

# ==============================================================================
# DATA PATHS (Container Mount Points)
# ==============================================================================

# Data paths inside the container (these align with volume mounts in docker-compose)
DATA_PATH=/app/data
LAB_MEMBERSHIPS_CSV=/app/data/lab_memberships.csv
REGIONS_CSV=/app/data/regions.csv

# Export directory for generated files
EXPORT_PATH=/app/data/exports

# ==============================================================================
# PERFORMANCE TUNING FOR CONTAINERS
# ==============================================================================

# Database connection pool settings for containerized workload
DB_POOL_SIZE=3
DB_MAX_OVERFLOW=5
DB_POOL_TIMEOUT=30

# Ingestion batch sizes optimized for container memory limits
BATCH_SIZE=500
MAX_WORKERS=2

# ==============================================================================
# SECURITY SETTINGS
# ==============================================================================

# Disable certain development features in container environment
ENABLE_DEBUG_MODE=false
ENABLE_PROFILING=false

# Container-specific security settings
CONTAINER_USER=lsats
CONTAINER_UID=1000

# ==============================================================================
# DEVELOPMENT VS PRODUCTION CONTAINER SETTINGS
# ==============================================================================

# Development containers settings (can be overridden for production)
CONTAINER_ENV=development
ENABLE_HOT_RELOAD=true

# Production containers would use:
# CONTAINER_ENV=production
# ENABLE_HOT_RELOAD=false
# LOG_LEVEL=WARNING
